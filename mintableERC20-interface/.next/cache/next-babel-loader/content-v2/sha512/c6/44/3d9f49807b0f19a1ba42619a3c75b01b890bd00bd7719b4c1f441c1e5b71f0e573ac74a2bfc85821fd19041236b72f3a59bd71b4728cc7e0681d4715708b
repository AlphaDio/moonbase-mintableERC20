{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport tokenInstance from '../ethereum/feed';\n\nconst addresses = require('../ethereum/addresses');\n\nclass Table extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      errorMessage: '',\n      mercBal: 0,\n      venBal: 0,\n      erthBal: 0,\n      marsBal: 0,\n      jupBal: 0,\n      satBal: 0,\n      unsBal: 0,\n      neptBal: 0,\n      plutBal: 0,\n      mercMint: false,\n      venMint: false,\n      erthMint: false,\n      marsMint: false,\n      jupMint: false,\n      satMint: false,\n      unsMint: false,\n      neptMint: false,\n      plutMint: false\n    });\n\n    _defineProperty(this, \"onUpdate\", async () => {\n      console.log(tokenInstance); // Mercury\n\n      const [mercBal, mercMint] = await this.getBalance(addresses.mercury); // Venus\n\n      const [venBal, venMint] = await this.getBalance(addresses.venus); // Earth\n\n      const [erthBal, erthMint] = await this.getBalance(addresses.earth); // Mars\n\n      const [marsBal, marsMint] = await this.getBalance(addresses.mars); // Jupiter\n\n      const [jupBal, jupMint] = await this.getBalance(addresses.jupiter); // Saturn\n\n      const [satBal, satMint] = await this.getBalance(addresses.saturn); // Uranus\n\n      const [unsBal, unsMint] = await this.getBalance(addresses.uranus); // Neptune\n\n      const [neptBal, neptMint] = await this.getBalance(addresses.neptune); // Pluto\n\n      const [plutBal, plutMint] = await this.getBalance(addresses.pluto);\n      this.setState({\n        // Set Balance\n        mercBal: mercBal.toFixed(2),\n        venBal: venBal.toFixed(2),\n        erthBal: erthBal.toFixed(2),\n        marsBal: marsBal.toFixed(2),\n        jupBal: jupBal.toFixed(2),\n        satBal: satBal.toFixed(2),\n        unsBal: unsBal.toFixed(2),\n        neptBal: neptBal.toFixed(2),\n        plutBal: plutBal.toFixed(2),\n        // Set Last Updated\n        mercMint: mercMint,\n        venMint: venMint,\n        erthMint: erthMint,\n        marsMint: marsMint,\n        jupMint: jupMint,\n        satMint: satMint,\n        unsMint: unsMint,\n        neptMint: neptMint,\n        plutMint: plutMint\n      });\n      this.intervalID = setTimeout(this.onUpdate.bind(this), 5000);\n    });\n\n    _defineProperty(this, \"getBalance\", async address => {\n      // Get price data from proxy contract\n      try {\n        const contractInstance = tokenInstance(address);\n        const dec = await contractInstance.decimals();\n        const mint = await contractInstance.canMint();\n        const balance = contractInstance.balanceOf();\n        const epoch = new Date(info[3].toNumber() * 1000);\n        return [price, date];\n      } catch (error) {\n        // Could not fetch price return error\n        console.log(error);\n        return [0, 'N/A'];\n      }\n    });\n  }\n\n  // Nextjs uses this function to render this first server-side\n  static async getInitialProps() {\n    onUpdate();\n  } // Set Initial State\n\n\n  async componentDidMount() {\n    this.onUpdate();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalID);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      children: [/*#__PURE__*/_jsx(\"h3\", {\n        children: \"Data Price Feed\"\n      }), /*#__PURE__*/_jsx(\"p\", {\n        children: \"Information displayed in the following table corresponds to on-chain price data stored in the Moonbase Alpha TestNet!\"\n      }), /*#__PURE__*/_jsxs(\"table\", {\n        className: \"ui celled table\",\n        children: [/*#__PURE__*/_jsx(\"thead\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"th\", {\n              children: \"ERC20 Token\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              children: \"Balance\"\n            }), /*#__PURE__*/_jsx(\"th\", {\n              children: \"Mintable?\"\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"tbody\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"ERC20 Token\",\n              children: \"Mercury\"\n            }), /*#__PURE__*/_jsxs(\"td\", {\n              \"data-label\": \"Balance\",\n              children: [\"$ \", this.state.mercBal]\n            }), /*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"Mintable?\",\n              children: this.state.mercMint\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"tbody\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"ERC20 Token\",\n              children: \"Venus\"\n            }), /*#__PURE__*/_jsxs(\"td\", {\n              \"data-label\": \"Balance\",\n              children: [\"$ \", this.state.venBal]\n            }), /*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"Mintable?\",\n              children: this.state.venMint\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"tbody\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"ERC20 Token\",\n              children: \"Earth\"\n            }), /*#__PURE__*/_jsxs(\"td\", {\n              \"data-label\": \"Balance\",\n              children: [\"$ \", this.state.erthBal]\n            }), /*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"Mintable?\",\n              children: this.state.erthMint\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"tbody\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"ERC20 Token\",\n              children: \"Mars\"\n            }), /*#__PURE__*/_jsxs(\"td\", {\n              \"data-label\": \"Balance\",\n              children: [\"$ \", this.state.marsBal]\n            }), /*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"Mintable?\",\n              children: this.state.marsMint\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"tbody\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"ERC20 Token\",\n              children: \"Jupiter\"\n            }), /*#__PURE__*/_jsxs(\"td\", {\n              \"data-label\": \"Balance\",\n              children: [\"$ \", this.state.jupBal]\n            }), /*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"Mintable?\",\n              children: this.state.jupMint\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"tbody\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"ERC20 Token\",\n              children: \"Saturn\"\n            }), /*#__PURE__*/_jsxs(\"td\", {\n              \"data-label\": \"Balance\",\n              children: [\"$ \", this.state.satBal]\n            }), /*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"Mintable?\",\n              children: this.state.satMint\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"tbody\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"ERC20 Token\",\n              children: \"Uranus\"\n            }), /*#__PURE__*/_jsxs(\"td\", {\n              \"data-label\": \"Balance\",\n              children: [\"$ \", this.state.unsBal]\n            }), /*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"Mintable?\",\n              children: this.state.unsMint\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"tbody\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"ERC20 Token\",\n              children: \"Neptune\"\n            }), /*#__PURE__*/_jsxs(\"td\", {\n              \"data-label\": \"Balance\",\n              children: [\"$ \", this.state.neptBal]\n            }), /*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"Mintable?\",\n              children: this.state.neptMint\n            })]\n          })\n        }), /*#__PURE__*/_jsx(\"tbody\", {\n          children: /*#__PURE__*/_jsxs(\"tr\", {\n            children: [/*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"ERC20 Token\",\n              children: \"Pluto\"\n            }), /*#__PURE__*/_jsxs(\"td\", {\n              \"data-label\": \"Balance\",\n              children: [\"$ \", this.state.plutBal]\n            }), /*#__PURE__*/_jsx(\"td\", {\n              \"data-label\": \"Mintable?\",\n              children: this.state.plutMint\n            })]\n          })\n        })]\n      })]\n    });\n  }\n\n}\n\nexport default Table;","map":null,"metadata":{},"sourceType":"module"}